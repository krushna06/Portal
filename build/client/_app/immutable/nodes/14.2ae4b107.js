import{S as M,i as U,s as z,k as m,q as w,a as P,l as b,m as _,r as E,h as i,c as R,n as v,b as D,E as n,L as G,I as H,J as K,u as Q}from"../chunks/index.f85387c8.js";import{p as W}from"../chunks/stores.d0e5ad73.js";function J(c){let e,t,r,a,g,l=(c[0].message??c[0])+"",f;return{c(){e=m("div"),t=m("div"),r=m("p"),a=w("Error"),g=P(),f=w(l),this.h()},l(o){e=b(o,"DIV",{id:!0,class:!0});var u=_(e);t=b(u,"DIV",{class:!0});var h=_(t);r=b(h,"P",{class:!0});var x=_(r);a=E(x,"Error"),x.forEach(i),g=R(h),f=E(h,l),h.forEach(i),u.forEach(i),this.h()},h(){v(r,"class","font-semibold text-xl"),v(t,"class","bg-red-400 dark:bg-red-500 text-red-800 dark:text-red-400 bg-opacity-40 dark:bg-opacity-20 mb-4 p-6 px-12 rounded-lg text-center max-w-lg inline-block"),v(e,"id","error"),v(e,"class","break-words")},m(o,u){D(o,e,u),n(e,t),n(t,r),n(r,a),n(t,g),n(t,f)},p(o,u){u&1&&l!==(l=(o[0].message??o[0])+"")&&Q(f,l)},d(o){o&&i(e)}}}function X(c){let e;return{c(){e=m("i"),this.h()},l(t){e=b(t,"I",{class:!0}),_(e).forEach(i),this.h()},h(){v(e,"class","fa-solid fa-trash")},m(t,r){D(t,e,r)},d(t){t&&i(e)}}}function Y(c){let e;return{c(){e=m("i"),this.h()},l(t){e=b(t,"I",{class:!0}),_(e).forEach(i),this.h()},h(){v(e,"class","fa-solid fa-spinner animate-spin")},m(t,r){D(t,e,r)},d(t){t&&i(e)}}}function Z(c){let e,t,r,a,g,l,f,o,u,h,x,q,T,p,V,A,N,d=c[0]&&J(c);function O(s,k){return s[1]?Y:X}let C=O(c),y=C(c);return{c(){e=m("h1"),t=w("Reset"),r=P(),a=m("div"),d&&d.c(),g=P(),l=m("div"),f=m("p"),o=w("Caution"),u=w(`
		This will irreversibly delete all data associated with your guild,
		`),h=m("b"),x=w("including tickets and archives!"),q=P(),T=m("div"),p=m("button"),y.c(),V=w(`
			Delete`),this.h()},l(s){e=b(s,"H1",{class:!0});var k=_(e);t=E(k,"Reset"),k.forEach(i),r=R(s),a=b(s,"DIV",{class:!0});var I=_(a);d&&d.l(I),g=R(I),l=b(I,"DIV",{class:!0});var L=_(l);f=b(L,"P",{class:!0});var S=_(f);o=E(S,"Caution"),S.forEach(i),u=E(L,`
		This will irreversibly delete all data associated with your guild,
		`),h=b(L,"B",{});var j=_(h);x=E(j,"including tickets and archives!"),j.forEach(i),L.forEach(i),q=R(I),T=b(I,"DIV",{});var F=_(T);p=b(F,"BUTTON",{type:!0,class:!0});var B=_(p);y.l(B),V=E(B,`
			Delete`),B.forEach(i),F.forEach(i),I.forEach(i),this.h()},h(){v(e,"class","m-4 text-4xl font-bold text-center"),v(f,"class","font-semibold text-xl"),v(l,"class","bg-red-400 dark:bg-red-500 text-red-800 dark:text-red-400 bg-opacity-40 dark:bg-opacity-20 p-6 px-12 rounded-lg max-w-lg inline-block"),v(p,"type","button"),p.disabled=c[1],v(p,"class","mt-4 bg-red-300 hover:bg-red-500 hover:text-white dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white p-2 px-5 rounded-lg font-medium transition duration-300 disabled:cursor-not-allowed"),v(a,"class","m-2 sm:p-4 max-w-3xl mx-auto text-center")},m(s,k){D(s,e,k),n(e,t),D(s,r,k),D(s,a,k),d&&d.m(a,null),n(a,g),n(a,l),n(l,f),n(f,o),n(l,u),n(l,h),n(h,x),n(a,q),n(a,T),n(T,p),y.m(p,null),n(p,V),A||(N=G(p,"click",c[2]),A=!0)},p(s,[k]){s[0]?d?d.p(s,k):(d=J(s),d.c(),d.m(a,g)):d&&(d.d(1),d=null),C!==(C=O(s))&&(y.d(1),y=C(s),y&&(y.c(),y.m(p,V))),k&2&&(p.disabled=s[1])},i:H,o:H,d(s){s&&i(e),s&&i(r),s&&i(a),d&&d.d(),y.d(),A=!1,N()}}}function $(c,e,t){let r;K(c,W,o=>t(3,r=o));const a=`/api/admin/guilds/${r.params.guild}/settings`;let g=null,l=!1;return[g,l,async()=>{try{if(!confirm("CONFIRM: Are you sure you want to permanently erase ALL guild data?"))return!1;t(1,l=!0);const u=await fetch(a,{method:"DELETE",credentials:"include"}),h=await u.json();if(u.ok)window.location="./";else throw h}catch(o){t(1,l=!1),t(0,g=o),window.scroll({top:0,behavior:"smooth"})}}]}class se extends M{constructor(e){super(),U(this,e,$,Z,z,{})}}export{se as component};
