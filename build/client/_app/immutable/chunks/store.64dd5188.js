import{w as c}from"./singletons.f95ae673.js";import{ad as l}from"./index.f85387c8.js";const o=c(!1),f=c(null),n=c([]),u=c(null);function i(s=1){var a,r;const t=l(n).length,e=l(n)[t-1];return l(f)||(a=e==null?void 0:e.callbacks)!=null&&a.onBeforeClose&&((r=e==null?void 0:e.callbacks)==null?void 0:r.onBeforeClose())===!1?!1:(l(o)&&t>0&&f.set(!0),o.set(!1),u.set("pop"),d(s),!0)}function m(){return i(1)}function b(s,t,e){l(f)||(u.set("push"),l(o)&&l(n).length&&f.set(!0),o.set(!1),e!=null&&e.replace?n.update(a=>[...a.slice(0,a.length-1),{component:s,props:t}]):n.update(a=>[...a,{component:s,props:t}]))}function B(s){n.update(t=>{const e=t[t.length-1];return e.callbacks={...e.callbacks,onBeforeClose:s},t})}function d(s=1){n.update(t=>t.slice(0,Math.max(0,t.length-s)))}export{b as a,m as c,o as e,n as m,B as o,f as t};
